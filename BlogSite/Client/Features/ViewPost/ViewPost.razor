@page "/viewpost/{PostId}"
@using BlogSite.Client.Features.ViewPost
@inherits ViewPostModel
@inject AppState _appState

<WdHeader Heading=@BlogPost.Title Author=@BlogPost.Author PostedDate=@BlogPost.Posted></WdHeader>

<article>
    <div class="container">
        <SkeletonCards IsLoading="BlogPost.Author is null" ShouldAnimate="true" NumberOfColumns="1">
            <SkeletonTemplate>
                <ViewPostSkeleton />
            </SkeletonTemplate>
            <ChildContent>
                <div class="row">
                    <div class="col-md-12">
                        @((MarkupString)BlogPost.Post)
                    </div>

                    @if (_appState.IsLoggedIn)
                    {
                    <div class="row">
                        <div class="col-md-12">
                            <NavLink class="btn btn-primary float-right" href="@($"/editpost/{BlogPost.Id}")">Edit</NavLink>
                        </div>
                    </div>
                    }
                </div>
            </ChildContent>
        </SkeletonCards>
    </div>
</article>